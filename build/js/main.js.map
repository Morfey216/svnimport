{"version":3,"file":"main.js","sources":["../../source/js/general/polyfills.js","../../source/js/general/intersection-observer.js","../../source/blocks/form-input/form-input.js","../../source/blocks/form-textarea/form-textarea.js","../../source/js/libs/bodyScrollLock.es6","../../source/blocks/header/header.js","../../source/blocks/promotions-section/promotions-section.js","../../source/blocks/contact-form/contact-form.js","../../source/blocks/about-company/about-company.js","../../source/blocks/footer-contact-form/footer-contact-form.js","../../source/blocks/scroll-up/scroll-up.js","../../source/js/main.js"],"sourcesContent":["// region NodeList.forEach\r\nif (window.NodeList && !NodeList.prototype.forEach) {\r\n  NodeList.prototype.forEach = Array.prototype.forEach;\r\n}\r\n// endregion\r\n\r\n// region Element.matches\r\nif (!Element.prototype.matches) {\r\n  Element.prototype.matches = Element.prototype.msMatchesSelector\r\n    || Element.prototype.webkitMatchesSelector;\r\n}\r\n// endregion\r\n\r\n// region Element.closest\r\nif (!Element.prototype.closest) {\r\n  Element.prototype.closest = function (s) {\r\n    let el = this;\r\n\r\n    do {\r\n      if (el.matches(s)) {\r\n        return el;\r\n      }\r\n\r\n      el = el.parentElement || el.parentNode;\r\n    } while (el !== null && el.nodeType === 1);\r\n    return null;\r\n  };\r\n}\r\n// endregion\r\n\r\n// region Array.from\r\nif (!Array.from) {\r\n  Array.from = (function () {\r\n    const toStr = Object.prototype.toString;\r\n    const isCallable = function (fn) {\r\n      return typeof fn === 'function' || toStr.call(fn) === '[object Function]';\r\n    };\r\n    const toInteger = function (value) {\r\n      const number = Number(value);\r\n      if (isNaN(number)) {\r\n        return 0;\r\n      }\r\n      if (number === 0 || !isFinite(number)) {\r\n        return number;\r\n      }\r\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\r\n    };\r\n    const maxSafeInteger = Math.pow(2, 53) - 1;\r\n    const toLength = function (value) {\r\n      const len = toInteger(value);\r\n      return Math.min(Math.max(len, 0), maxSafeInteger);\r\n    };\r\n\r\n    // The length property of the from method is 1.\r\n    return function from(arrayLike/* , mapFn, thisArg */) {\r\n      // 1. Let C be the this value.\r\n      const C = this;\r\n\r\n      // 2. Let items be ToObject(arrayLike).\r\n      const items = Object(arrayLike);\r\n\r\n      // 3. ReturnIfAbrupt(items).\r\n      if (arrayLike == null) {\r\n        throw new TypeError('Array.from requires an array-like object - not null or undefined');\r\n      }\r\n\r\n      // 4. If mapfn is undefined, then let mapping be false.\r\n      const mapFn = arguments.length > 1 ? arguments[1] : void undefined;\r\n      let T;\r\n      if (typeof mapFn !== 'undefined') {\r\n        // 5. else\r\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\r\n        if (!isCallable(mapFn)) {\r\n          throw new TypeError('Array.from: when provided, the second argument must be a function');\r\n        }\r\n\r\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n        if (arguments.length > 2) {\r\n          T = arguments[2];\r\n        }\r\n      }\r\n\r\n      // 10. Let lenValue be Get(items, \"length\").\r\n      // 11. Let len be ToLength(lenValue).\r\n      const len = toLength(items.length);\r\n\r\n      // 13. If IsConstructor(C) is true, then\r\n      // 13. a. Let A be the result of calling the [[Construct]] internal method\r\n      // of C with an argument list containing the single item len.\r\n      // 14. a. Else, Let A be ArrayCreate(len).\r\n      const A = isCallable(C) ? Object(new C(len)) : new Array(len);\r\n\r\n      // 16. Let k be 0.\r\n      let k = 0;\r\n      // 17. Repeat, while k < len… (also steps a - h)\r\n      let kValue;\r\n      while (k < len) {\r\n        kValue = items[k];\r\n        if (mapFn) {\r\n          A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);\r\n        } else {\r\n          A[k] = kValue;\r\n        }\r\n        k += 1;\r\n      }\r\n      // 18. Let putStatus be Put(A, \"length\", len, true).\r\n      A.length = len;\r\n      // 20. Return A.\r\n      return A;\r\n    };\r\n  }());\r\n}\r\n// endregion\r\n\r\n\r\n// region Placeholder support with .placeholder-shown\r\nfunction placeholderPolyfill() {\r\n  this.classList[this.value ? 'remove' : 'add']('placeholder-shown');\r\n}\r\n\r\ndocument.querySelectorAll('[placeholder]').forEach((el) => {\r\n  el.classList[el.value ? 'remove' : 'add']('placeholder-shown');\r\n  el.addEventListener('change', placeholderPolyfill);\r\n  el.addEventListener('keyup', placeholderPolyfill);\r\n});\r\n// endregion\r\n\r\n// region Array.prototype.includes\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes#Polyfill\r\nif (!Array.prototype.includes) {\r\n  Object.defineProperty(Array.prototype, 'includes', {\r\n    value(valueToFind, fromIndex) {\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      let o = Object(this);\r\n      let len = o.length >>> 0;\r\n\r\n      if (len === 0) {\r\n        return false;\r\n      }\r\n\r\n      let n = fromIndex | 0;\r\n      let k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\r\n\r\n      function sameValueZero(x, y) {\r\n        return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\r\n      }\r\n\r\n      while (k < len) {\r\n        if (sameValueZero(o[k], valueToFind)) {\r\n          return true;\r\n        }\r\n        k++;\r\n      }\r\n      return false;\r\n    },\r\n  });\r\n}\r\n// endregion\r\n\r\n// region window.Event\r\n(function () {\r\n  if (typeof window.CustomEvent === 'function') return false;\r\n\r\n  function CustomEvent(event, params) {\r\n    params = params || { bubbles: false, cancelable: false, detail: null };\r\n    const evt = document.createEvent('CustomEvent');\r\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n    return evt;\r\n  }\r\n\r\n  CustomEvent.prototype = window.Event.prototype;\r\n  window.CustomEvent = CustomEvent;\r\n}());\r\n// endregion\r\n\r\n// region Array.prototype.find\r\nif (!Array.prototype.find) {\r\n  Object.defineProperty(Array.prototype, 'find', {\r\n    value(predicate) {\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n      let o = Object(this);\r\n      let len = o.length >>> 0;\r\n      if (typeof predicate !== 'function') {\r\n        throw new TypeError('predicate must be a function');\r\n      }\r\n      let thisArg = arguments[1];\r\n      let k = 0;\r\n      while (k < len) {\r\n        let kValue = o[k];\r\n        if (predicate.call(thisArg, kValue, k, o)) {\r\n          return kValue;\r\n        }\r\n        k++;\r\n      }\r\n      return undefined;\r\n    },\r\n    configurable: true,\r\n    writable: true,\r\n  });\r\n}\r\n// endregion\r\n","/**\r\n * Copyright 2016 Google Inc. All Rights Reserved.\r\n *\r\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\r\n *\r\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\r\n *\r\n */\r\n(function () {\r\n  // Exit early if we're not running in a browser.\r\n  if (typeof window !== 'object') {\r\n    return;\r\n  }\r\n\r\n  // Exit early if all IntersectionObserver and IntersectionObserverEntry\r\n  // features are natively supported.\r\n  if ('IntersectionObserver' in window\r\n    && 'IntersectionObserverEntry' in window\r\n    && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\r\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\r\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\r\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\r\n      Object.defineProperty(window.IntersectionObserverEntry.prototype,\r\n        'isIntersecting', {\r\n          get() {\r\n            return this.intersectionRatio > 0;\r\n          },\r\n        });\r\n    }\r\n    return;\r\n  }\r\n\r\n\r\n  /**\r\n   * A local reference to the document.\r\n   */\r\n  const { document } = window;\r\n\r\n\r\n  /**\r\n   * An IntersectionObserver registry. This registry exists to hold a strong\r\n   * reference to IntersectionObserver instances currently observing a target\r\n   * element. Without this registry, instances without another reference may be\r\n   * garbage collected.\r\n   */\r\n  const registry = [];\r\n\r\n\r\n  /**\r\n   * Creates the global IntersectionObserverEntry constructor.\r\n   * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\r\n   * @param {Object} entry A dictionary of instance properties.\r\n   * @constructor\r\n   */\r\n  function IntersectionObserverEntry(entry) {\r\n    this.time = entry.time;\r\n    this.target = entry.target;\r\n    this.rootBounds = entry.rootBounds;\r\n    this.boundingClientRect = entry.boundingClientRect;\r\n    this.intersectionRect = entry.intersectionRect || getEmptyRect();\r\n    this.isIntersecting = !!entry.intersectionRect;\r\n\r\n    // Calculates the intersection ratio.\r\n    const targetRect = this.boundingClientRect;\r\n    const targetArea = targetRect.width * targetRect.height;\r\n    const { intersectionRect } = this;\r\n    const intersectionArea = intersectionRect.width * intersectionRect.height;\r\n\r\n    // Sets intersection ratio.\r\n    if (targetArea) {\r\n      // Round the intersection ratio to avoid floating point math issues:\r\n      // https://github.com/w3c/IntersectionObserver/issues/324\r\n      this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\r\n    } else {\r\n      // If area is zero and is intersecting, sets to 1, otherwise to 0\r\n      this.intersectionRatio = this.isIntersecting ? 1 : 0;\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Creates the global IntersectionObserver constructor.\r\n   * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\r\n   * @param {Function} callback The function to be invoked after intersection\r\n   *     changes have queued. The function is not invoked if the queue has\r\n   *     been emptied by calling the `takeRecords` method.\r\n   * @param {Object=} opt_options Optional configuration options.\r\n   * @constructor\r\n   */\r\n  function IntersectionObserver(callback, opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    if (typeof callback !== 'function') {\r\n      throw new Error('callback must be a function');\r\n    }\r\n\r\n    if (options.root && options.root.nodeType != 1) {\r\n      throw new Error('root must be an Element');\r\n    }\r\n\r\n    // Binds and throttles `this._checkForIntersections`.\r\n    this._checkForIntersections = throttle(\r\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT,\r\n    );\r\n\r\n    // Private properties.\r\n    this._callback = callback;\r\n    this._observationTargets = [];\r\n    this._queuedEntries = [];\r\n    this._rootMarginValues = this._parseRootMargin(options.rootMargin);\r\n\r\n    // Public properties.\r\n    this.thresholds = this._initThresholds(options.threshold);\r\n    this.root = options.root || null;\r\n    this.rootMargin = this._rootMarginValues.map(margin => margin.value + margin.unit).join(' ');\r\n  }\r\n\r\n\r\n  /**\r\n   * The minimum interval within which the document will be checked for\r\n   * intersection changes.\r\n   */\r\n  IntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\r\n\r\n\r\n  /**\r\n   * The frequency in which the polyfill polls for intersection changes.\r\n   * this can be updated on a per instance basis and must be set prior to\r\n   * calling `observe` on the first target.\r\n   */\r\n  IntersectionObserver.prototype.POLL_INTERVAL = null;\r\n\r\n  /**\r\n   * Use a mutation observer on the root element\r\n   * to detect intersection changes.\r\n   */\r\n  IntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\r\n\r\n\r\n  /**\r\n   * Starts observing a target element for intersection changes based on\r\n   * the thresholds values.\r\n   * @param {Element} target The DOM element to observe.\r\n   */\r\n  IntersectionObserver.prototype.observe = function (target) {\r\n    const isTargetAlreadyObserved = this._observationTargets.some(item => item.element == target);\r\n\r\n    if (isTargetAlreadyObserved) {\r\n      return;\r\n    }\r\n\r\n    if (!(target && target.nodeType == 1)) {\r\n      throw new Error('target must be an Element');\r\n    }\r\n\r\n    this._registerInstance();\r\n    this._observationTargets.push({ element: target, entry: null });\r\n    this._monitorIntersections();\r\n    this._checkForIntersections();\r\n  };\r\n\r\n\r\n  /**\r\n   * Stops observing a target element for intersection changes.\r\n   * @param {Element} target The DOM element to observe.\r\n   */\r\n  IntersectionObserver.prototype.unobserve = function (target) {\r\n    this._observationTargets = this._observationTargets.filter(item => item.element != target);\r\n    if (!this._observationTargets.length) {\r\n      this._unmonitorIntersections();\r\n      this._unregisterInstance();\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Stops observing all target elements for intersection changes.\r\n   */\r\n  IntersectionObserver.prototype.disconnect = function () {\r\n    this._observationTargets = [];\r\n    this._unmonitorIntersections();\r\n    this._unregisterInstance();\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns any queue entries that have not yet been reported to the\r\n   * callback and clears the queue. This can be used in conjunction with the\r\n   * callback to obtain the absolute most up-to-date intersection information.\r\n   * @return {Array} The currently queued entries.\r\n   */\r\n  IntersectionObserver.prototype.takeRecords = function () {\r\n    const records = this._queuedEntries.slice();\r\n    this._queuedEntries = [];\r\n    return records;\r\n  };\r\n\r\n\r\n  /**\r\n   * Accepts the threshold value from the user configuration object and\r\n   * returns a sorted array of unique threshold values. If a value is not\r\n   * between 0 and 1 and error is thrown.\r\n   * @private\r\n   * @param {Array|number=} opt_threshold An optional threshold value or\r\n   *     a list of threshold values, defaulting to [0].\r\n   * @return {Array} A sorted list of unique and valid threshold values.\r\n   */\r\n  IntersectionObserver.prototype._initThresholds = function (opt_threshold) {\r\n    let threshold = opt_threshold || [0];\r\n    if (!Array.isArray(threshold)) threshold = [threshold];\r\n\r\n    return threshold.sort().filter((t, i, a) => {\r\n      if (typeof t !== 'number' || isNaN(t) || t < 0 || t > 1) {\r\n        throw new Error('threshold must be a number between 0 and 1 inclusively');\r\n      }\r\n      return t !== a[i - 1];\r\n    });\r\n  };\r\n\r\n\r\n  /**\r\n   * Accepts the rootMargin value from the user configuration object\r\n   * and returns an array of the four margin values as an object containing\r\n   * the value and unit properties. If any of the values are not properly\r\n   * formatted or use a unit other than px or %, and error is thrown.\r\n   * @private\r\n   * @param {string=} opt_rootMargin An optional rootMargin value,\r\n   *     defaulting to '0px'.\r\n   * @return {Array<Object>} An array of margin objects with the keys\r\n   *     value and unit.\r\n   */\r\n  IntersectionObserver.prototype._parseRootMargin = function (opt_rootMargin) {\r\n    const marginString = opt_rootMargin || '0px';\r\n    const margins = marginString.split(/\\s+/).map((margin) => {\r\n      const parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\r\n      if (!parts) {\r\n        throw new Error('rootMargin must be specified in pixels or percent');\r\n      }\r\n      return { value: parseFloat(parts[1]), unit: parts[2] };\r\n    });\r\n\r\n    // Handles shorthand.\r\n    margins[1] = margins[1] || margins[0];\r\n    margins[2] = margins[2] || margins[0];\r\n    margins[3] = margins[3] || margins[1];\r\n\r\n    return margins;\r\n  };\r\n\r\n\r\n  /**\r\n   * Starts polling for intersection changes if the polling is not already\r\n   * happening, and if the page's visibility state is visible.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._monitorIntersections = function () {\r\n    if (!this._monitoringIntersections) {\r\n      this._monitoringIntersections = true;\r\n\r\n      // If a poll interval is set, use polling instead of listening to\r\n      // resize and scroll events or DOM mutations.\r\n      if (this.POLL_INTERVAL) {\r\n        this._monitoringInterval = setInterval(\r\n          this._checkForIntersections, this.POLL_INTERVAL,\r\n        );\r\n      } else {\r\n        addEvent(window, 'resize', this._checkForIntersections, true);\r\n        addEvent(document, 'scroll', this._checkForIntersections, true);\r\n\r\n        if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\r\n          this._domObserver = new MutationObserver(this._checkForIntersections);\r\n          this._domObserver.observe(document, {\r\n            attributes: true,\r\n            childList: true,\r\n            characterData: true,\r\n            subtree: true,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Stops polling for intersection changes.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._unmonitorIntersections = function () {\r\n    if (this._monitoringIntersections) {\r\n      this._monitoringIntersections = false;\r\n\r\n      clearInterval(this._monitoringInterval);\r\n      this._monitoringInterval = null;\r\n\r\n      removeEvent(window, 'resize', this._checkForIntersections, true);\r\n      removeEvent(document, 'scroll', this._checkForIntersections, true);\r\n\r\n      if (this._domObserver) {\r\n        this._domObserver.disconnect();\r\n        this._domObserver = null;\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Scans each observation target for intersection changes and adds them\r\n   * to the internal entries queue. If new entries are found, it\r\n   * schedules the callback to be invoked.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._checkForIntersections = function () {\r\n    const rootIsInDom = this._rootIsInDom();\r\n    const rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\r\n\r\n    this._observationTargets.forEach(function (item) {\r\n      const target = item.element;\r\n      const targetRect = getBoundingClientRect(target);\r\n      const rootContainsTarget = this._rootContainsTarget(target);\r\n      const oldEntry = item.entry;\r\n      const intersectionRect = rootIsInDom && rootContainsTarget\r\n        && this._computeTargetAndRootIntersection(target, rootRect);\r\n\r\n      const newEntry = item.entry = new IntersectionObserverEntry({\r\n        time: now(),\r\n        target,\r\n        boundingClientRect: targetRect,\r\n        rootBounds: rootRect,\r\n        intersectionRect,\r\n      });\r\n\r\n      if (!oldEntry) {\r\n        this._queuedEntries.push(newEntry);\r\n      } else if (rootIsInDom && rootContainsTarget) {\r\n        // If the new entry intersection ratio has crossed any of the\r\n        // thresholds, add a new entry.\r\n        if (this._hasCrossedThreshold(oldEntry, newEntry)) {\r\n          this._queuedEntries.push(newEntry);\r\n        }\r\n      } else {\r\n        // If the root is not in the DOM or target is not contained within\r\n        // root but the previous entry for this target had an intersection,\r\n        // add a new record indicating removal.\r\n        if (oldEntry && oldEntry.isIntersecting) {\r\n          this._queuedEntries.push(newEntry);\r\n        }\r\n      }\r\n    }, this);\r\n\r\n    if (this._queuedEntries.length) {\r\n      this._callback(this.takeRecords(), this);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Accepts a target and root rect computes the intersection between then\r\n   * following the algorithm in the spec.\r\n   * TODO(philipwalton): at this time clip-path is not considered.\r\n   * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\r\n   * @param {Element} target The target DOM element\r\n   * @param {Object} rootRect The bounding rect of the root after being\r\n   *     expanded by the rootMargin value.\r\n   * @return {?Object} The final intersection rect object or undefined if no\r\n   *     intersection is found.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._computeTargetAndRootIntersection = function (target, rootRect) {\r\n    // If the element isn't displayed, an intersection can't happen.\r\n    if (window.getComputedStyle(target).display == 'none') return;\r\n\r\n    const targetRect = getBoundingClientRect(target);\r\n    let intersectionRect = targetRect;\r\n    let parent = getParentNode(target);\r\n    let atRoot = false;\r\n\r\n    while (!atRoot) {\r\n      let parentRect = null;\r\n      const parentComputedStyle = parent.nodeType == 1\r\n        ? window.getComputedStyle(parent) : {};\r\n\r\n      // If the parent isn't displayed, an intersection can't happen.\r\n      if (parentComputedStyle.display == 'none') return;\r\n\r\n      if (parent == this.root || parent == document) {\r\n        atRoot = true;\r\n        parentRect = rootRect;\r\n      } else {\r\n        // If the element has a non-visible overflow, and it's not the <body>\r\n        // or <html> element, update the intersection rect.\r\n        // Note: <body> and <html> cannot be clipped to a rect that's not also\r\n        // the document rect, so no need to compute a new intersection.\r\n        if (parent != document.body\r\n            && parent != document.documentElement\r\n            && parentComputedStyle.overflow != 'visible') {\r\n          parentRect = getBoundingClientRect(parent);\r\n        }\r\n      }\r\n\r\n      // If either of the above conditionals set a new parentRect,\r\n      // calculate new intersection data.\r\n      if (parentRect) {\r\n        intersectionRect = computeRectIntersection(parentRect, intersectionRect);\r\n\r\n        if (!intersectionRect) break;\r\n      }\r\n      parent = getParentNode(parent);\r\n    }\r\n    return intersectionRect;\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns the root rect after being expanded by the rootMargin value.\r\n   * @return {Object} The expanded root rect.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._getRootRect = function () {\r\n    let rootRect;\r\n    if (this.root) {\r\n      rootRect = getBoundingClientRect(this.root);\r\n    } else {\r\n      // Use <html>/<body> instead of window since scroll bars affect size.\r\n      const html = document.documentElement;\r\n      const { body } = document;\r\n      rootRect = {\r\n        top: 0,\r\n        left: 0,\r\n        right: html.clientWidth || body.clientWidth,\r\n        width: html.clientWidth || body.clientWidth,\r\n        bottom: html.clientHeight || body.clientHeight,\r\n        height: html.clientHeight || body.clientHeight,\r\n      };\r\n    }\r\n    return this._expandRectByRootMargin(rootRect);\r\n  };\r\n\r\n\r\n  /**\r\n   * Accepts a rect and expands it by the rootMargin value.\r\n   * @param {Object} rect The rect object to expand.\r\n   * @return {Object} The expanded rect.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._expandRectByRootMargin = function (rect) {\r\n    const margins = this._rootMarginValues.map((margin, i) => (margin.unit == 'px' ? margin.value\r\n      : margin.value * (i % 2 ? rect.width : rect.height) / 100));\r\n    const newRect = {\r\n      top: rect.top - margins[0],\r\n      right: rect.right + margins[1],\r\n      bottom: rect.bottom + margins[2],\r\n      left: rect.left - margins[3],\r\n    };\r\n    newRect.width = newRect.right - newRect.left;\r\n    newRect.height = newRect.bottom - newRect.top;\r\n\r\n    return newRect;\r\n  };\r\n\r\n\r\n  /**\r\n   * Accepts an old and new entry and returns true if at least one of the\r\n   * threshold values has been crossed.\r\n   * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\r\n   *    particular target element or null if no previous entry exists.\r\n   * @param {IntersectionObserverEntry} newEntry The current entry for a\r\n   *    particular target element.\r\n   * @return {boolean} Returns true if a any threshold has been crossed.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._hasCrossedThreshold = function (oldEntry, newEntry) {\r\n    // To make comparing easier, an entry that has a ratio of 0\r\n    // but does not actually intersect is given a value of -1\r\n    const oldRatio = oldEntry && oldEntry.isIntersecting\r\n      ? oldEntry.intersectionRatio || 0 : -1;\r\n    const newRatio = newEntry.isIntersecting\r\n      ? newEntry.intersectionRatio || 0 : -1;\r\n\r\n    // Ignore unchanged ratios\r\n    if (oldRatio === newRatio) return;\r\n\r\n    for (let i = 0; i < this.thresholds.length; i++) {\r\n      const threshold = this.thresholds[i];\r\n\r\n      // Return true if an entry matches a threshold or if the new ratio\r\n      // and the old ratio are on the opposite sides of a threshold.\r\n      if (threshold == oldRatio || threshold == newRatio\r\n          || threshold < oldRatio !== threshold < newRatio) {\r\n        return true;\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns whether or not the root element is an element and is in the DOM.\r\n   * @return {boolean} True if the root element is an element and is in the DOM.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._rootIsInDom = function () {\r\n    return !this.root || containsDeep(document, this.root);\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns whether or not the target element is a child of root.\r\n   * @param {Element} target The target element to check.\r\n   * @return {boolean} True if the target element is a child of root.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._rootContainsTarget = function (target) {\r\n    return containsDeep(this.root || document, target);\r\n  };\r\n\r\n\r\n  /**\r\n   * Adds the instance to the global IntersectionObserver registry if it isn't\r\n   * already present.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._registerInstance = function () {\r\n    if (registry.indexOf(this) < 0) {\r\n      registry.push(this);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Removes the instance from the global IntersectionObserver registry.\r\n   * @private\r\n   */\r\n  IntersectionObserver.prototype._unregisterInstance = function () {\r\n    const index = registry.indexOf(this);\r\n    if (index != -1) registry.splice(index, 1);\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns the result of the performance.now() method or null in browsers\r\n   * that don't support the API.\r\n   * @return {number} The elapsed time since the page was requested.\r\n   */\r\n  function now() {\r\n    return window.performance && performance.now && performance.now();\r\n  }\r\n\r\n\r\n  /**\r\n   * Throttles a function and delays its execution, so it's only called at most\r\n   * once within a given time period.\r\n   * @param {Function} fn The function to throttle.\r\n   * @param {number} timeout The amount of time that must pass before the\r\n   *     function can be called again.\r\n   * @return {Function} The throttled function.\r\n   */\r\n  function throttle(fn, timeout) {\r\n    let timer = null;\r\n    return function () {\r\n      if (!timer) {\r\n        timer = setTimeout(() => {\r\n          fn();\r\n          timer = null;\r\n        }, timeout);\r\n      }\r\n    };\r\n  }\r\n\r\n\r\n  /**\r\n   * Adds an event handler to a DOM node ensuring cross-browser compatibility.\r\n   * @param {Node} node The DOM node to add the event handler to.\r\n   * @param {string} event The event name.\r\n   * @param {Function} fn The event handler to add.\r\n   * @param {boolean} opt_useCapture Optionally adds the even to the capture\r\n   *     phase. Note: this only works in modern browsers.\r\n   */\r\n  function addEvent(node, event, fn, opt_useCapture) {\r\n    if (typeof node.addEventListener === 'function') {\r\n      node.addEventListener(event, fn, opt_useCapture || false);\r\n    } else if (typeof node.attachEvent === 'function') {\r\n      node.attachEvent(`on${event}`, fn);\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Removes a previously added event handler from a DOM node.\r\n   * @param {Node} node The DOM node to remove the event handler from.\r\n   * @param {string} event The event name.\r\n   * @param {Function} fn The event handler to remove.\r\n   * @param {boolean} opt_useCapture If the event handler was added with this\r\n   *     flag set to true, it should be set to true here in order to remove it.\r\n   */\r\n  function removeEvent(node, event, fn, opt_useCapture) {\r\n    if (typeof node.removeEventListener === 'function') {\r\n      node.removeEventListener(event, fn, opt_useCapture || false);\r\n    } else if (typeof node.detatchEvent === 'function') {\r\n      node.detatchEvent(`on${event}`, fn);\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Returns the intersection between two rect objects.\r\n   * @param {Object} rect1 The first rect.\r\n   * @param {Object} rect2 The second rect.\r\n   * @return {?Object} The intersection rect or undefined if no intersection\r\n   *     is found.\r\n   */\r\n  function computeRectIntersection(rect1, rect2) {\r\n    const top = Math.max(rect1.top, rect2.top);\r\n    const bottom = Math.min(rect1.bottom, rect2.bottom);\r\n    const left = Math.max(rect1.left, rect2.left);\r\n    const right = Math.min(rect1.right, rect2.right);\r\n    const width = right - left;\r\n    const height = bottom - top;\r\n\r\n    return (width >= 0 && height >= 0) && {\r\n      top,\r\n      bottom,\r\n      left,\r\n      right,\r\n      width,\r\n      height,\r\n    };\r\n  }\r\n\r\n\r\n  /**\r\n   * Shims the native getBoundingClientRect for compatibility with older IE.\r\n   * @param {Element} el The element whose bounding rect to get.\r\n   * @return {Object} The (possibly shimmed) rect of the element.\r\n   */\r\n  function getBoundingClientRect(el) {\r\n    let rect;\r\n\r\n    try {\r\n      rect = el.getBoundingClientRect();\r\n    } catch (err) {\r\n      // Ignore Windows 7 IE11 \"Unspecified error\"\r\n      // https://github.com/w3c/IntersectionObserver/pull/205\r\n    }\r\n\r\n    if (!rect) return getEmptyRect();\r\n\r\n    // Older IE\r\n    if (!(rect.width && rect.height)) {\r\n      rect = {\r\n        top: rect.top,\r\n        right: rect.right,\r\n        bottom: rect.bottom,\r\n        left: rect.left,\r\n        width: rect.right - rect.left,\r\n        height: rect.bottom - rect.top,\r\n      };\r\n    }\r\n    return rect;\r\n  }\r\n\r\n\r\n  /**\r\n   * Returns an empty rect object. An empty rect is returned when an element\r\n   * is not in the DOM.\r\n   * @return {Object} The empty rect.\r\n   */\r\n  function getEmptyRect() {\r\n    return {\r\n      top: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0,\r\n      width: 0,\r\n      height: 0,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Checks to see if a parent element contains a child element (including inside\r\n   * shadow DOM).\r\n   * @param {Node} parent The parent element.\r\n   * @param {Node} child The child element.\r\n   * @return {boolean} True if the parent node contains the child node.\r\n   */\r\n  function containsDeep(parent, child) {\r\n    let node = child;\r\n    while (node) {\r\n      if (node == parent) return true;\r\n\r\n      node = getParentNode(node);\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n  /**\r\n   * Gets the parent node of an element or its host element if the parent node\r\n   * is a shadow root.\r\n   * @param {Node} node The node whose parent to get.\r\n   * @return {Node|null} The parent node or null if no parent exists.\r\n   */\r\n  function getParentNode(node) {\r\n    const parent = node.parentNode;\r\n\r\n    if (parent && parent.nodeType == 11 && parent.host) {\r\n      // If the parent is a shadow root, return the host element.\r\n      return parent.host;\r\n    }\r\n\r\n    if (parent && parent.assignedSlot) {\r\n      // If the parent is distributed in a <slot>, return the parent of a slot.\r\n      return parent.assignedSlot.parentNode;\r\n    }\r\n\r\n    return parent;\r\n  }\r\n\r\n\r\n  // Exposes the constructors globally.\r\n  window.IntersectionObserver = IntersectionObserver;\r\n  window.IntersectionObserverEntry = IntersectionObserverEntry;\r\n}());\r\n","export default () => {\r\n  const inputs = document.querySelectorAll('.js-form-input');\r\n\r\n  if (inputs.length === 0) return;\r\n\r\n  inputs.forEach((input) => {\r\n    input.addEventListener('focus', () => {\r\n      input.closest('.form-input').classList.remove('error');\r\n    });\r\n  });\r\n};\r\n","export default () => {\r\n  const textareas = document.querySelectorAll('.js-form-textarea');\r\n\r\n  if (textareas.length === 0) return;\r\n\r\n  textareas.forEach((textarea) => {\r\n    textarea.addEventListener('focus', () => {\r\n      textarea.closest('.form-textarea').classList.remove('error');\r\n    });\r\n  });\r\n};\r\n","\r\n// Older browsers don't support event options, feature detect it.\r\n\r\n// Adopted and modified solution from Bohdan Didukh (2017)\r\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\r\n\r\nlet hasPassiveEvents = false;\r\nif (typeof window !== 'undefined') {\r\n  const passiveTestOptions = {\r\n    get passive() {\r\n      hasPassiveEvents = true;\r\n      return undefined;\r\n    },\r\n  };\r\n  window.addEventListener('testPassive', null, passiveTestOptions);\r\n  window.removeEventListener('testPassive', null, passiveTestOptions);\r\n}\r\n\r\nconst isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && /iP(ad|hone|od)/.test(window.navigator.platform);\r\n\r\n\r\nlet locks = [];\r\nlet documentListenerAdded = false;\r\nlet initialClientY = -1;\r\nlet previousBodyOverflowSetting;\r\nlet previousBodyPaddingRight;\r\n\r\n// returns true if `el` should be allowed to receive touchmove events\r\nconst allowTouchMove = el => locks.some((lock) => {\r\n  if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n});\r\n\r\nconst preventDefault = (rawEvent) => {\r\n  const e = rawEvent || window.event;\r\n\r\n  // For the case whereby consumers adds a touchmove event listener to document.\r\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\r\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\r\n  // the touchmove event on document will break.\r\n  if (allowTouchMove(e.target)) {\r\n    return true;\r\n  }\r\n\r\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom)\r\n  if (e.touches.length > 1) return true;\r\n\r\n  if (e.preventDefault) e.preventDefault();\r\n\r\n  return false;\r\n};\r\n\r\nconst setOverflowHidden = (options) => {\r\n  // Setting overflow on body/documentElement synchronously in Desktop Safari slows down\r\n  // the responsiveness for some reason. Setting within a setTimeout fixes this.\r\n  setTimeout(() => {\r\n    // If previousBodyPaddingRight is already set, don't set it again.\r\n    if (previousBodyPaddingRight === undefined) {\r\n      const reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\r\n      const scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\r\n\r\n      if (reserveScrollBarGap && scrollBarGap > 0) {\r\n        previousBodyPaddingRight = document.body.style.paddingRight;\r\n        document.body.style.paddingRight = `${scrollBarGap}px`;\r\n      }\r\n    }\r\n\r\n    // If previousBodyOverflowSetting is already set, don't set it again.\r\n    if (previousBodyOverflowSetting === undefined) {\r\n      previousBodyOverflowSetting = document.body.style.overflow;\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n  });\r\n};\r\n\r\nconst restoreOverflowSetting = () => {\r\n  // Setting overflow on body/documentElement synchronously in Desktop Safari slows down\r\n  // the responsiveness for some reason. Setting within a setTimeout fixes this.\r\n  setTimeout(() => {\r\n    if (previousBodyPaddingRight !== undefined) {\r\n      document.body.style.paddingRight = previousBodyPaddingRight;\r\n\r\n      // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\r\n      // can be set again.\r\n      previousBodyPaddingRight = undefined;\r\n    }\r\n\r\n    if (previousBodyOverflowSetting !== undefined) {\r\n      document.body.style.overflow = previousBodyOverflowSetting;\r\n\r\n      // Restore previousBodyOverflowSetting to undefined\r\n      // so setOverflowHidden knows it can be set again.\r\n      previousBodyOverflowSetting = undefined;\r\n    }\r\n  });\r\n};\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\r\nconst isTargetElementTotallyScrolled = targetElement => (targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false);\r\n\r\nconst handleScroll = (event, targetElement) => {\r\n  const clientY = event.targetTouches[0].clientY - initialClientY;\r\n\r\n  if (allowTouchMove(event.target)) {\r\n    return false;\r\n  }\r\n\r\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\r\n    // element is at the top of its scroll\r\n    return preventDefault(event);\r\n  }\r\n\r\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\r\n    // element is at the top of its scroll\r\n    return preventDefault(event);\r\n  }\r\n\r\n  event.stopPropagation();\r\n  return true;\r\n};\r\n\r\nexport const disableBodyScroll = (targetElement, options) => {\r\n  if (isIosDevice) {\r\n    // targetElement must be provided, and disableBodyScroll must not have been\r\n    // called on this targetElement before.\r\n    if (!targetElement) {\r\n      // eslint-disable-next-line no-console\r\n      console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\r\n      return;\r\n    }\r\n\r\n    if (targetElement && !locks.some(lock => lock.targetElement === targetElement)) {\r\n      const lock = {\r\n        targetElement,\r\n        options: options || {},\r\n      };\r\n\r\n      locks = [...locks, lock];\r\n\r\n      targetElement.ontouchstart = (event) => {\r\n        if (event.targetTouches.length === 1) {\r\n          // detect single touch\r\n          initialClientY = event.targetTouches[0].clientY;\r\n        }\r\n      };\r\n      targetElement.ontouchmove = (event) => {\r\n        if (event.targetTouches.length === 1) {\r\n          // detect single touch\r\n          handleScroll(event, targetElement);\r\n        }\r\n      };\r\n\r\n      if (!documentListenerAdded) {\r\n        document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\r\n        documentListenerAdded = true;\r\n      }\r\n    }\r\n  } else {\r\n    setOverflowHidden(options);\r\n    const lock = {\r\n      targetElement,\r\n      options: options || {},\r\n    };\r\n\r\n    locks = [...locks, lock];\r\n  }\r\n};\r\n\r\nexport const clearAllBodyScrollLocks = () => {\r\n  if (isIosDevice) {\r\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references\r\n    locks.forEach((lock) => {\r\n      lock.targetElement.ontouchstart = null;\r\n      lock.targetElement.ontouchmove = null;\r\n    });\r\n\r\n    if (documentListenerAdded) {\r\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\r\n      documentListenerAdded = false;\r\n    }\r\n\r\n    locks = [];\r\n\r\n    // Reset initial clientY\r\n    initialClientY = -1;\r\n  } else {\r\n    restoreOverflowSetting();\r\n    locks = [];\r\n  }\r\n};\r\n\r\nexport const enableBodyScroll = (targetElement) => {\r\n  if (isIosDevice) {\r\n    if (!targetElement) {\r\n      // eslint-disable-next-line no-console\r\n      console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\r\n      return;\r\n    }\r\n\r\n    targetElement.ontouchstart = null;\r\n    targetElement.ontouchmove = null;\r\n\r\n    locks = locks.filter(lock => lock.targetElement !== targetElement);\r\n\r\n    if (documentListenerAdded && locks.length === 0) {\r\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\r\n\r\n      documentListenerAdded = false;\r\n    }\r\n  } else {\r\n    locks = locks.filter(lock => lock.targetElement !== targetElement);\r\n    if (!locks.length) {\r\n      restoreOverflowSetting();\r\n    }\r\n  }\r\n};\r\n","import { disableBodyScroll, clearAllBodyScrollLocks } from '../../js/libs/bodyScrollLock.es6';\r\n\r\nexport default () => {\r\n  const WindowBreakpoints = {\r\n    DESKTOP_BIG: 1920,\r\n    DESKTOP: 1024,\r\n    TABLET: 1023,\r\n    MOBILE: 320,\r\n  };\r\n\r\n  const header = document.querySelector('.header');\r\n  const headerOpenedClass = 'header--menu-opened';\r\n\r\n  if (!header) return;\r\n\r\n  const burgerToggle = header.querySelector('.header__toggle');\r\n\r\n  const dropdown = header.querySelector('.header__dropdown');\r\n  const overlay = header.querySelector('.header__overlay');\r\n\r\n  const mainNavContainer = header.querySelector('.header__main-nav-container');\r\n\r\n  const mainNavWrap = header.querySelector('.header__main-nav-wrap');\r\n  const mainNav = header.querySelector('.header__main-nav');\r\n  const menuFragment = new DocumentFragment();\r\n\r\n  const contactsWrap = header.querySelector('.header__contacts-wrap');\r\n  const contactsButton = header.querySelector('.header__contacts-button');\r\n\r\n  const createActualNav = () => {\r\n    const actualNav = mainNav.cloneNode(true);\r\n    menuFragment.appendChild(mainNav);\r\n\r\n    const mainNavItems = actualNav.querySelectorAll('.menu-nav__item');\r\n    const mainNavList = actualNav.querySelector('.menu-nav__list');\r\n\r\n    mainNavList.innerHTML = '';\r\n\r\n    mainNavItems.forEach((item) => {\r\n      if (!item.classList.contains('menu-nav__item--more')) {\r\n        mainNavList.appendChild(item);\r\n      }\r\n    });\r\n\r\n    return actualNav;\r\n  };\r\n\r\n  const adjustDesktop = () => {\r\n    clearAllBodyScrollLocks(dropdown);\r\n    mainNavWrap.prepend(menuFragment);\r\n    mainNavContainer.append(contactsWrap);\r\n  };\r\n\r\n  const adjustTablet = () => {\r\n    if (header.classList.contains('header--menu-opened')) {\r\n      disableBodyScroll(header);\r\n    }\r\n\r\n    const fragment = new DocumentFragment();\r\n    fragment.appendChild(createActualNav());\r\n    fragment.appendChild(contactsWrap);\r\n    dropdown.innerHTML = '';\r\n    dropdown.appendChild(fragment);\r\n  };\r\n\r\n  const adjustMobile = () => {\r\n    if (header.classList.contains('header--menu-opened')) {\r\n      disableBodyScroll(header);\r\n    }\r\n\r\n    const fragment = new DocumentFragment();\r\n    fragment.appendChild(createActualNav());\r\n    fragment.appendChild(contactsWrap);\r\n    dropdown.innerHTML = '';\r\n    dropdown.appendChild(fragment);\r\n  };\r\n\r\n\r\n  const checkWindowWidth = () => {\r\n    if (window.matchMedia(`(min-width: ${WindowBreakpoints.DESKTOP_BIG}px)`).matches) {\r\n      return WindowBreakpoints.DESKTOP_BIG;\r\n    }\r\n    if (window.matchMedia(`(min-width: ${WindowBreakpoints.DESKTOP}px)`).matches) {\r\n      return WindowBreakpoints.DESKTOP;\r\n    }\r\n    if (window.matchMedia(`(min-width: ${WindowBreakpoints.TABLET}px)`).matches) {\r\n      return WindowBreakpoints.TABLET;\r\n    }\r\n    return WindowBreakpoints.MOBILE;\r\n  };\r\n\r\n\r\n  const adjustDropdownMaxHeight = () => {\r\n    const rect = header.getBoundingClientRect();\r\n\r\n    dropdown.style.maxHeight = `calc(100vh - ${rect.bottom}px)`;\r\n    overlay.style.maxHeight = `calc(100vh - ${rect.bottom}px)`;\r\n    overlay.style.top = `${rect.bottom}px`;\r\n  };\r\n\r\n  let lastWindowMode = -1;\r\n  const adjustMenu = () => {\r\n    const currentWindowMode = checkWindowWidth();\r\n    if (lastWindowMode !== currentWindowMode) {\r\n      switch (currentWindowMode) {\r\n        case WindowBreakpoints.MOBILE:\r\n          adjustMobile();\r\n          break;\r\n        case WindowBreakpoints.TABLET:\r\n          adjustTablet();\r\n          break;\r\n        case WindowBreakpoints.DESKTOP:\r\n          adjustDesktop();\r\n          break;\r\n        default:\r\n          adjustDesktop();\r\n          break;\r\n      }\r\n      lastWindowMode = currentWindowMode;\r\n    }\r\n  };\r\n\r\n  const closeMenu = () => {\r\n    header.classList.remove(headerOpenedClass);\r\n    clearAllBodyScrollLocks(dropdown);\r\n    contactsButton.removeEventListener('click', closeMenu);\r\n  };\r\n\r\n  const openMenu = () => {\r\n    adjustDropdownMaxHeight();\r\n    header.classList.add(headerOpenedClass);\r\n    adjustMenu();\r\n    disableBodyScroll(dropdown);\r\n  };\r\n\r\n  burgerToggle.addEventListener('click', () => {\r\n    if (header.classList.contains(headerOpenedClass)) {\r\n      closeMenu();\r\n    } else {\r\n      openMenu();\r\n    }\r\n  });\r\n\r\n  let resizeTimeout;\r\n\r\n  function resizeThrottler() {\r\n    // ignore resize events as long as an actualResizeHandler execution is in the queue\r\n    if (!resizeTimeout) {\r\n      resizeTimeout = setTimeout(() => {\r\n        resizeTimeout = null;\r\n        adjustMenu();\r\n        adjustDropdownMaxHeight();\r\n\r\n        // The actualResizeHandler will execute at a rate of 15fps\r\n      }, 10);\r\n    }\r\n  }\r\n\r\n  function scrolled() {\r\n    const scrollTop = window.scrollY;\r\n\r\n    if (scrollTop >= window.outerHeight / 6) {\r\n      header.classList.remove('header--primary-position');\r\n    } else {\r\n      header.classList.add('header--primary-position');\r\n    }\r\n  }\r\n\r\n  window.addEventListener('resize', resizeThrottler, false);\r\n  window.addEventListener('scroll', scrolled);\r\n  contactsButton.addEventListener('click', closeMenu);\r\n\r\n  adjustMenu();\r\n  scrolled();\r\n};\r\n","/* global Swiper */\r\n\r\nexport default () => {\r\n  const promoSection = document.querySelector('.promotions-section');\r\n  if (!promoSection) return;\r\n\r\n  const container = promoSection.querySelector('.promotions-section__slider-container');\r\n\r\n  const wrapper = container.querySelector('.promotions-section__promo-list');\r\n  const slides = container.querySelectorAll('.promotions-section__promo-item');\r\n  let slider;\r\n\r\n  function sliderInit() {\r\n    container.classList.add('swiper-container');\r\n    wrapper.classList.add('swiper-wrapper');\r\n    slides.forEach((slide) => {\r\n      slide.classList.add('swiper-slide');\r\n    });\r\n\r\n    const slider = new Swiper(container, {\r\n      direction: 'horizontal',\r\n      loop: true,\r\n      preloadImages: true,\r\n      loadPrevNext: true,\r\n      loadPrevNextAmount: 2,\r\n      slidesPerView: 1,\r\n      spaceBetween: 10,\r\n      slidesOffsetBefore: 0,\r\n      slidesOffsetAfter: 0,\r\n      speed: 2100,\r\n      navigation: {\r\n        nextEl: '.promotions-section__navigation-btn-next',\r\n        prevEl: '.promotions-section__navigation-btn-prev',\r\n      },\r\n      autoplay: {\r\n        delay: 4000,\r\n        disableOnInteraction: false,\r\n      },\r\n    });\r\n  }\r\n\r\n  sliderInit();\r\n};\r\n","export default () => {\r\n  const form = document.querySelector('.js-ccf');\r\n  if (!form) return;\r\n\r\n  const inputs = form.querySelectorAll('input');\r\n  const desc = form.querySelector('textarea');\r\n  const upload = form.querySelector('.contact-form__upload-message');\r\n\r\n  function clearData() {\r\n    inputs.forEach((it) => {\r\n      // eslint-disable-next-line no-param-reassign\r\n      it.value = '';\r\n    });\r\n\r\n    desc.value = '';\r\n\r\n    $('.js-ccf-submit').prop('disabled', false);\r\n  }\r\n\r\n  function createMessage(mess) {\r\n    upload.textContent = mess;\r\n\r\n    setTimeout(() => {\r\n      upload.textContent = '';\r\n    }, 3000);\r\n  }\r\n\r\n  form.addEventListener('submit', (evt) => {\r\n    const http = new XMLHttpRequest();\r\n    evt.preventDefault();\r\n    http.open('POST', 'mail/mail.php', true);\r\n    http.onreadystatechange = () => {\r\n      if (http.readyState === 4 && http.status === 200) {\r\n        clearData();\r\n        createMessage(http.responseText);\r\n      }\r\n    };\r\n\r\n    http.onerror = () => {\r\n      clearData();\r\n      // eslint-disable-next-line no-alert\r\n      alert('Ошибка, попробуйте еще раз');\r\n    };\r\n\r\n    $('.js-ccf-submit').prop('disabled', true);\r\n    http.send(new FormData(form));\r\n  }, false);\r\n};\r\n","export default () => {\r\n  const aboutCompany = document.querySelector('.about-company');\r\n  if (!aboutCompany) return;\r\n\r\n  const wrapper = aboutCompany.querySelector('.about-company__img-wrapper');\r\n\r\n  const parallax = () => {\r\n    const coords = aboutCompany.getBoundingClientRect();\r\n    const windowHeight = document.documentElement.clientHeight;\r\n\r\n    // верхний край элемента виден?\r\n    const topVisible = coords.top > 0 && coords.top < windowHeight;\r\n\r\n    // нижний край элемента виден?\r\n    const bottomVisible = coords.bottom < windowHeight && coords.bottom > 0;\r\n\r\n    const full = windowHeight - coords.top + coords.bottom;\r\n    const delta = full / 100;\r\n    const pos = coords.bottom / delta - 30;\r\n\r\n    if (topVisible || bottomVisible) {\r\n      wrapper.style.backgroundPositionY = `${pos}%`;\r\n    }\r\n  };\r\n\r\n  parallax();\r\n  document.addEventListener('scroll', parallax);\r\n};\r\n","export default () => {\r\n  const form = document.querySelector('.js-fcf');\r\n  if (!form) return;\r\n\r\n  const inputs = form.querySelectorAll('input');\r\n  const desc = form.querySelector('textarea');\r\n  const upload = form.querySelector('.footer-contact-form__upload-message');\r\n\r\n  function clearData() {\r\n    inputs.forEach((it) => {\r\n      // eslint-disable-next-line no-param-reassign\r\n      it.value = '';\r\n    });\r\n\r\n    desc.value = '';\r\n\r\n    $('.js-fcf-submit').prop('disabled', false);\r\n  }\r\n\r\n  function createMessage(mess) {\r\n    upload.textContent = mess;\r\n\r\n    setTimeout(() => {\r\n      upload.textContent = '';\r\n    }, 3000);\r\n  }\r\n\r\n  form.addEventListener('submit', (evt) => {\r\n    const http = new XMLHttpRequest();\r\n    evt.preventDefault();\r\n    http.open('POST', 'mail/short-mail.php', true);\r\n    http.onreadystatechange = () => {\r\n      if (http.readyState === 4 && http.status === 200) {\r\n        clearData();\r\n        createMessage(http.responseText);\r\n      }\r\n    };\r\n\r\n    http.onerror = () => {\r\n      clearData();\r\n      // eslint-disable-next-line no-alert\r\n      alert('Ошибка, попробуйте еще раз');\r\n    };\r\n\r\n    $('.js-fcf-submit').prop('disabled', true);\r\n    http.send(new FormData(form));\r\n  }, false);\r\n};\r\n","export default () => {\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    const scrollUp = document.querySelector('.scroll-up');\r\n    const scrollUpBtn = scrollUp.querySelector('.js-scroll-up');\r\n\r\n    window.onscroll = () => {\r\n      if (window.pageYOffset > 580) {\r\n        scrollUp.classList.add('scroll-up--show');\r\n      } else {\r\n        scrollUp.classList.remove('scroll-up--show');\r\n      }\r\n    };\r\n\r\n    // плавный скролл наверх\r\n    scrollUpBtn.addEventListener('click', (evt) => {\r\n      evt.preventDefault();\r\n\r\n      window.scrollBy({\r\n        top: -document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    });\r\n  });\r\n};\r\n","/* eslint-disable */\r\nimport './general/polyfills';\r\nimport './general/intersection-observer';\r\n// import utils from './general/utils';\r\n/* eslint-enable */\r\n\r\n// region Blocks\r\n\r\nimport formInput from '../blocks/form-input/form-input';\r\nimport formTextarea from '../blocks/form-textarea/form-textarea';\r\nimport header from '../blocks/header/header';\r\nimport promoSection from '../blocks/promotions-section/promotions-section';\r\n// import advantages from '../blocks/advantages/advantages';\r\nimport contactForm from '../blocks/contact-form/contact-form';\r\nimport aboutCompany from '../blocks/about-company/about-company';\r\nimport footerContactForm from '../blocks/footer-contact-form/footer-contact-form';\r\nimport scrollUp from '../blocks/scroll-up/scroll-up';\r\n\r\n// endregion\r\n\r\nformInput();\r\nformTextarea();\r\nheader();\r\npromoSection();\r\n// advantages();\r\ncontactForm();\r\nfooterContactForm();\r\naboutCompany();\r\nscrollUp();\r\n"],"names":["window","NodeList","prototype","forEach","Array","Element","matches","msMatchesSelector","webkitMatchesSelector","closest","s","el","parentElement","parentNode","nodeType","from","toStr","Object","toString","isCallable","fn","call","toInteger","value","number","Number","isNaN","isFinite","Math","floor","abs","maxSafeInteger","pow","toLength","len","min","max","arrayLike","C","items","TypeError","mapFn","arguments","length","undefined","T","A","k","kValue","placeholderPolyfill","classList","document","querySelectorAll","addEventListener","includes","defineProperty","valueToFind","fromIndex","o","n","sameValueZero","x","y","CustomEvent","event","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","Event","find","predicate","thisArg","configurable","writable","_typeof","IntersectionObserverEntry","get","intersectionRatio","_window","entry","time","target","rootBounds","boundingClientRect","intersectionRect","getEmptyRect","isIntersecting","targetRect","targetArea","width","height","intersectionArea","toFixed","IntersectionObserver","callback","opt_options","options","Error","root","_checkForIntersections","throttle","bind","THROTTLE_TIMEOUT","_callback","_observationTargets","_queuedEntries","_rootMarginValues","_parseRootMargin","rootMargin","thresholds","_initThresholds","threshold","map","margin","unit","join","POLL_INTERVAL","USE_MUTATION_OBSERVER","observe","isTargetAlreadyObserved","some","item","element","_registerInstance","push","_monitorIntersections","unobserve","filter","_unmonitorIntersections","_unregisterInstance","disconnect","takeRecords","records","slice","opt_threshold","isArray","sort","t","i","a","opt_rootMargin","marginString","margins","split","parts","exec","parseFloat","_monitoringIntersections","_monitoringInterval","setInterval","addEvent","_domObserver","MutationObserver","attributes","childList","characterData","subtree","clearInterval","removeEvent","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","getBoundingClientRect","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","newEntry","now","_hasCrossedThreshold","getComputedStyle","display","parent","getParentNode","atRoot","parentRect","parentComputedStyle","body","documentElement","overflow","computeRectIntersection","html","top","left","right","clientWidth","bottom","clientHeight","_expandRectByRootMargin","rect","newRect","oldRatio","newRatio","containsDeep","performance","timeout","timer","setTimeout","node","opt_useCapture","attachEvent","concat","removeEventListener","detatchEvent","rect1","rect2","err","child","host","assignedSlot","inputs","input","remove","textareas","textarea","hasPassiveEvents","passiveTestOptions","passive","isIosDevice","navigator","platform","test","locks","documentListenerAdded","initialClientY","previousBodyOverflowSetting","previousBodyPaddingRight","allowTouchMove","lock","preventDefault","rawEvent","e","touches","setOverflowHidden","reserveScrollBarGap","scrollBarGap","innerWidth","style","paddingRight","restoreOverflowSetting","isTargetElementTotallyScrolled","targetElement","scrollHeight","scrollTop","handleScroll","clientY","targetTouches","stopPropagation","disableBodyScroll","console","error","_toConsumableArray","ontouchstart","ontouchmove","clearAllBodyScrollLocks","WindowBreakpoints","DESKTOP_BIG","DESKTOP","TABLET","MOBILE","header","querySelector","headerOpenedClass","burgerToggle","dropdown","overlay","mainNavContainer","mainNavWrap","mainNav","menuFragment","DocumentFragment","contactsWrap","contactsButton","createActualNav","actualNav","cloneNode","appendChild","mainNavItems","mainNavList","innerHTML","contains","adjustDesktop","prepend","append","adjustTablet","fragment","adjustMobile","checkWindowWidth","matchMedia","adjustDropdownMaxHeight","maxHeight","lastWindowMode","adjustMenu","currentWindowMode","closeMenu","openMenu","add","resizeTimeout","resizeThrottler","scrolled","scrollY","outerHeight","promoSection","container","wrapper","slides","sliderInit","slide","slider","Swiper","direction","loop","preloadImages","loadPrevNext","loadPrevNextAmount","slidesPerView","spaceBetween","slidesOffsetBefore","slidesOffsetAfter","speed","navigation","nextEl","prevEl","autoplay","delay","disableOnInteraction","form","desc","upload","clearData","it","$","prop","createMessage","mess","textContent","http","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","onerror","alert","send","FormData","aboutCompany","parallax","coords","windowHeight","topVisible","bottomVisible","full","delta","pos","backgroundPositionY","scrollUp","scrollUpBtn","onscroll","pageYOffset","scrollBy","behavior","formInput","formTextarea","contactForm","footerContactForm"],"mappings":"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"}